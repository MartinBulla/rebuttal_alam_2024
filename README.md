## Supporting information for 'No support for honest signalling of male quality in zebra finch song;

When using this content **PLEASE CITE** the [preprint](https://ecoevorxiv.org/repository/view/7530/) and this repository: Bulla & Sankar, 2025. Supporting information for "No support for honest signalling of male quality in zebra finch song". *GitHub* https://github.com/MartinBulla/rebuttal_alam_2024.

Questions about the outpus can be directed to bulla.mar@gmail.com and  about the UMAP generation to remya.sankar@bi.mpg.de

***

### Repository: files & folders
[**Supportin information**, including code](https://martinbulla.github.io/rebuttal_alam_2024/): the current html document with all display items and code.

[Data](Data/):
- [Fig_4c.csv](Data/Fig_4c.csv): source data provided by [Alam et al. (2024, *Nature*)](https://doi.org/10.1038/s41586-024-07207-4); columns: *tutor* - unique tutor ID, *pupil* - unique pupil ID for the given tutor, *tutor_path* - song path length of the tutor, *pupil_path* - song path length of the pupil
- [Dat_path_length.csv](Data/DAT_path_length.csv): 20 UMAP iterrations generated from 31 tutored birds of Alam et al.'s Fig 2c (available from https://doi.org/10.18738/T8/WBQM4I/Q92O9A), using Alam et al.'s methods to:
    -  [generate the UMAP](https://github.com/ymir-k/UMAP_test/blob/main/AlamTests/3-RseedTest/Scripts/generate_rseed_embeddings.ipynb)
    - [find centroids of clusters](https://github.com/ymir-k/UMAP_test/blob/main/AlamTests/3-RseedTest/Scripts/find_kmeans_centroids_of_rseed_embeddings.ipynb)
    - [calculate shortest path length for each male](https://github.com/ymir-k/UMAP_test/blob/main/AlamTests/3-RseedTest/Scripts/bird_paths_from_many_kcentroids.ipynb)
- [Fig_2b.csv](Data/Fig_2b.csv): source data provided by [Alam et al. (2024, *Nature*)](https://doi.org/10.1038/s41586-024-07207-4) for their Fig. 2b; columns: *bird* - unique bird ID, *1-15* - columns names 1-15 indicate 15 iterations and contain path-length estimates for each
- [rebuttal_fig_2.csv](Data/rebuttal_fig_2.csv): source data provided by [Alam et al. (2024, *Nature*)](https://doi.org/10.1038/s41586-024-07207-4) for their Fig. 3c and data measured by us from their Extended Data Fig. 6 (green versus black bars during playback); columns: *trial_id* - unique trial ID, *side_bias* - was the long-path song during the trial played in the *preferred arm* or *non-preferred arm* by the female during the baseline period?, *song_pair* - unique song-pair ID; *long* - path length of the long path song, *short* - path length of the short path song, *pre* - the percentage of pre-trial time spent in the arm where long path song would be played during the trial, *trial* -  the percentage of trial time spent in the arm with long path song, *post* - the percentage of post-trial time spent in the arm where long path song was played during the trial, *trial_long* - trial time spent in the arm with long path song, *trial_short* - trial time spent in the arm with short path; the dataset was used during the initial submission
- [Fig_3c_ED_Fig_6.csv](Data/Fig_3c_ED_Fig_6.csv): source data provided by [Alam et al. (2024, *Nature*)](https://doi.org/10.1038/s41586-024-07207-4) for their Fig. 3c and data measured by us from their Extended Data Fig. 6 (green versus black bars during playback); columns: *trial_id* - unique trial ID, *side_bias* - was the long-path song during the trial played in the *preferred arm* or *non-preferred arm* by the female during the baseline period?, *song_pair* - unique song-pair ID; *long* - path length of the long path song, *short* - path length of the short path song, *pre* - the percentage of pre-trial time spent in the arm where long path song would be played during the trial based on source data from Fig. 3c, *trial* -  the percentage of trial time spent in the arm with long path song based on source data from Fig. 3c, *post* - the percentage of post-trial time spent in the arm where long path song was played during the trial based on source data from Fig. 3c, *pre_ed* - the percentage of pre-trial time spent in the arm where long path song would be played during the trial as measured from Extended Data Fig. 6, *trial_ed* -  the percentage of trial time spent in the arm with long path song as measured from Extended Data Fig. 6, *post_ed* - the percentage of post-trial time spent in the arm where long path song was played during the trial as measured from Extended Data Fig. 6, *comments* note the discrepencies between source data of Fig. 3c and Extended Data Fig. 6
- [match_labels_output.csv](Data/match_labels_output.csv): contains matched bird ids and names from the Fig_4c.csv and Fig. 2c (Dat_path_length.csv) generated by the procedure described [here](Python/create_bird_labels.pdf) and used to add syllable counts to Fig_2b.csv data; columns: *f2b_bird_id* - unique bird ID from Fig. 2b, *f2b_bird_name* - unique bird name from Fig. 2b, *superset_bird_id* - unique bird ID from Fig. 4c, Alam et al's file tut.zip, *superset_bird_name* - unique bird name from Fig. 4c, Alam et al's file tut.zip, *superset_bird_cleaned_name* - Fig. 4c bird names cleaned to match the Fig. 2b names, *superset_bird_type* - was the bird isolated or tutored, *superset_bird_nsyll* - number of unique syllables in a given song
- [Dat_rnorm.Rdata](Data/Dat_rnorm.Rdata): random data from the Fig 1 generated in the [Fig_point_1.r](R/Fig_point_1.r) script


[R](R/)-scripts used in the analysis,‚ùórun relative to the project's root directory, with the same folder structure as this repository

For the first submission:
- [Fig_point_1.r](R/Fig_point_1.r) uses [Fig_4c.csv](Data/Fig_4c.csv) and generates our [Fig. 1](Output/Fig_point_1.png),
- [Fig_point_2.r](R/Fig_point_2.r) uses [rebuttal_fig_2.csv](Data/rebuttal_fig_2.csv) and generates our [Fig. 2](Output/Fig_point_2.png) 

For the revision
- [_runRmarkdown.R](https://github.com/MartinBulla/rebuttal_alam_2024/tree/
- [SI.R](https://github.com/MartinBulla/rebuttal_alam_2024/tree/main/R/SI.R) generates this [Supporting information](https://martinbulla.github.io/rebuttal_alam_2024/), and contains all scripts used to generate the final paper outputs, including the display items; require the following data: (i) [Fig_4c.csv](https://github.com/MartinBulla/rebuttal_alam_2024/tree/main/Data/Fig_4c.csv), (ii) [Fig_2b.csv](https://github.com/MartinBulla/rebuttal_alam_2024/tree/main/Data/Fig_2b.csv), (iii) [Fig_3c_ED_Fig_6.csv](https://github.com/MartinBulla/rebuttal_alam_2024/tree/main/Data/Fig_3c_ED_Fig_6.csv), (iv) [path_length_df.csv](https://github.com/MartinBulla/rebuttal_alam_2024/tree/main/Data/path_length_df.csv), (v) [match_labels_output.csv](https://github.com/MartinBulla/rebuttal_alam_2024/tree/main/Data/match_labels_output.csv), (vi)[Dat_rnorm.Rdata](Data/Dat_rnorm.Rdata)

[Output](Output/): contains the generated figures in PNG format

[LICENSE](LICENSE.txt): terms of reuse

***

### Session Information
*The figures were generated using the below indicated version of R and its related packages, running on the below indicated macOS. The installation of R and related R-packages takes only a few mintues. How to install R and R-packages is described [here](https://rstudio-education.github.io/hopr/starting.html) and [here](https://rstudio-education.github.io/hopr/packages2.html#installing-packages)*

**R version 4.2.0** (2022-04-22)  
**Platform:** x86_64-apple-darwin17.0 (64-bit)  
**Running under:** macOS Mojave 10.14.6  

**locale:** en_GB.UTF-8||en_GB.UTF-8||en_GB.UTF-8||C||en_GB.UTF-8||en_GB.UTF-8

**attached base packages:** *grid, stats, graphics, grDevices, utils, datasets, methods and base*

**other attached packages:**
*pander(v.0.6.5), gridExtra(v.2.3), grafify(v.4.0.1), scales(v.1.3.0), tidyr(v.1.3.1), rptR(v.0.9.22), patchwork(v.1.3.0), legendry(v.0.2.0), kableExtra(v.1.4.0), ggpubr(v.0.6.0), ggpmisc(v.0.5.4-1), ggpp(v.0.5.5), ggplot2(v.3.5.1), foreach(v.1.5.2), data.table(v.1.16.2), cowplot(v.1.1.3), arm(v.1.13-1), lme4(v.1.1-35.5), Matrix(v.1.6-2), MASS(v.7.3-60) and rmarkdown(v.2.29)*

**packages loaded via a namespace (and not attached):** 
*nlme(v.3.1-163), rprojroot(v.2.0.4), numDeriv(v.2016.8-1.1), tools(v.4.2.0), backports(v.1.5.0), bslib(v.0.8.0), utf8(v.1.2.4), R6(v.2.5.1), rpart(v.4.1.21), mgcv(v.1.9-0), Hmisc(v.5.2-0), colorspace(v.2.1-1), nnet(v.7.3-19), withr(v.3.0.2), tidyselect(v.1.2.1), emmeans(v.1.10.5), compiler(v.4.2.0), textshaping(v.0.3.7), cli(v.3.6.3), quantreg(v.5.99.1), htmlTable(v.2.4.3), SparseM(v.1.84-2), xml2(v.1.3.6), sandwich(v.3.0-2), labeling(v.0.4.3), sass(v.0.4.9), checkmate(v.2.3.2), mvtnorm(v.1.3-2), systemfonts(v.1.0.5), stringr(v.1.5.1), digest(v.0.6.37), foreign(v.0.8-85), minqa(v.1.2.8), svglite(v.2.1.2), base64enc(v.0.1-3), pkgconfig(v.2.0.3), htmltools(v.0.5.8.1), fastmap(v.1.2.0), htmlwidgets(v.1.6.4), rlang(v.1.1.4), rstudioapi(v.0.17.1), jquerylib(v.0.1.4), farver(v.2.1.2), generics(v.0.1.3), zoo(v.1.8-12), jsonlite(v.1.8.9), dplyr(v.1.1.4), car(v.3.1-3), magrittr(v.2.0.3), polynom(v.1.4-1), Formula(v.1.2-5), Rcpp(v.1.0.13-1), munsell(v.0.5.1), fansi(v.1.0.6), abind(v.1.4-8), lifecycle(v.1.0.4), multcomp(v.1.4-25), stringi(v.1.8.4), yaml(v.2.3.10), carData(v.3.0-5), lattice(v.0.22-5), splines(v.4.2.0), knitr(v.1.49), pillar(v.1.9.0), boot(v.1.3-28.1), estimability(v.1.5.1), ggsignif(v.0.6.4), codetools(v.0.2-19), glue(v.1.8.0), evaluate(v.1.0.1), vctrs(v.0.6.5), nloptr(v.2.1.1), MatrixModels(v.0.5-3), gtable(v.0.3.6), purrr(v.1.0.2), cachem(v.1.1.0), xfun(v.0.49), xtable(v.1.8-4), broom(v.1.0.7), coda(v.0.19-4), rstatix(v.0.7.2), ragg(v.1.2.6), survival(v.3.5-7), viridisLite(v.0.4.2), tibble(v.3.2.1), lmerTest(v.3.1-3), iterators(v.1.0.14), cluster(v.2.1.4), TH.data(v.1.1-2) and here(v.1.0.1)*  

### Demo & Reproduction Instructions
We do not provide any demo data, because the two *csv* files used in the analyses are small and already contain all the data used in the analyses. 

To generate the outputs, download the [files](Data/) into *Data* folder of your project's root directory and create a folder *Output*. Open *R* software and the *Fig_point_1.r* or  *Fig_point_2.r* R-script (for outputs on initial submission) and *SI.R* for the final outputs, install the R-packages indicated under the tools by running `install.packages(c('arm','cowplot', 'data.table', 'foreach','ggplot2', 'ggpmisc', 'ggpubr', 'grafify', 'grid', 'gridExtra, 'kableExtra', 'legendry', 'pander', 'patchwork','rptR','tidyr')` and run the scripts. The pngs of the figures and the html document of the whole supporting information will be generated in *Output*.
